"use strict";require(["config"],function(){require(["jquery","tools","header","template","cookie"],function(h,t,i,c,o){new Promise(function(t,i){h("header").load("/html/component/header.html",function(){h("ul").header(),t()}),h("#detailPage").load("/html/component/detailPage.html",function(){}),h("footer").load("/html/component/footer.html",function(){})}).then(function(){var t=location.search.slice(1).split("="),i={};i[t[0]]=t[1],h.ajax({url:"http://localhost/webpage-project-www/api/vi/detail.php",data:i,method:"POST",dataType:"json",success:function(e){if(1===e.code){var t=c("detail-template",{product:e.product});h(".detail_head").html(t)}console.log(e),h(".Txt").click(function(){h(".colorImgli").css({border:"3px solid #a10000"}),h(".d").show(),h(".colorImgtli").css({border:"1px solid #B4B4B4"}),h(".dt").hide(),h(".s").hide(),h(".xxl").hide(),h(".danpinli").show(),h(".danpintli").hide(),h(".twoImg").hide(),h("#img").show()}),h(".tTxt").click(function(){h(".colorImgtli").css({border:"3px solid #a10000"}),h(".dt").show(),h(".colorImgli").css({border:"1px solid #B4B4B4"}),h(".d").hide(),h(".danpintli").show(),h(".danpinli").hide(),h(".twoImg").show(),h("#img").hide()}),h(".smallImg").mousemove(function(t){var i=t.pageX-h(this).offset().left-h("#fdj").width()/2,o=t.pageY-h(this).offset().top-h("#fdj").height()/2;i<0&&(i=0),o<0&&(o=0),i>h(this).width()-h("#fdj").width()&&(i=h(this).width()-h("#fdj").width()),o>h(this).height()-h("#fdj").height()&&(o=h(this).height()-h("#fdj").height()),h("#fdj").show(),h(".bigImg").show(),h("#fdj").css({left:i}),h("#fdj").css({top:o}),h("#bigimg").css({left:-2*i}),h("#bigimg").css({top:-2*o})}),h(".smallImg").hover(function(){h("#fdj").hide(),h(".bigImg").hide()});var i=h("#rightcar"),d=[],o=h.cookie("cart");o&&(d=JSON.parse(o)),i.click(function(){for(var t={id:e.product.id,name:e.product.name,price:e.product.price,img:e.product.img},i=0;i<d.length;i++)if(d[i].id===e.product.id){d[i].num++;break}i===d.length&&d.push(t);var o=JSON.stringify(d);h.cookie("cart",o,{path:"/"}),location.href="http://localhost:1314/html/car.html"})}})})})});